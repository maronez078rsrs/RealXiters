--[[
    REAL XITERS - ULTIMATE EDITION V7.9 (ZERO DATA)
    STATUS: TOTALMENTE VAZIO - SEM LOGINS DE TESTE
]]

local Players = game:GetService("Players")
local RunService = game:GetService("RunService")
local UserInputService = game:GetService("UserInputService")
local TweenService = game:GetService("TweenService")
local LocalPlayer = Players.LocalPlayer
local Mouse = LocalPlayer:GetMouse()
local Camera = workspace.CurrentCamera

-- ==========================================
-- BANCO DE LOGINS (ESTRUTURA VAZIA POR LINHA)
-- ==========================================
local LoginsPremium = {
    ["zk"] = "zkboagarotinha",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = ""
}

local LoginsFree = {
    ["free"] = "FREE-AIKZJ-WUAHS",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = "",
    [""] = ""
}

_G.Config = {
    AimbotActive = false, AimbotKey = "E", WallCheck = false, FOVSize = 150, ShowFOV = false,
    EspBox = false, EspLines = false, EspHealth = false, EspColors = false,
    HitboxActive = false, HitboxSize = 15,
    SpinActive = false, SpinSpeed = 25,
    TeamCheck = false, Visible = true, IsFreeVersion = false
}

local LockedTarget = nil
local SpinAngle = 0
local FOVDrawing = Drawing.new("Circle")

-- ARRASTAR UI
local function MakeDraggable(gui)
    local dragging, dragInput, dragStart, startPos
    gui.InputBegan:Connect(function(input)
        if input.UserInputType == Enum.UserInputType.MouseButton1 then
            local objects = LocalPlayer.PlayerGui:GetGuiObjectsAtPosition(input.Position.X, input.Position.Y)
            local isInteracting = false
            for _, obj in pairs(objects) do if obj:IsA("TextButton") or obj.Name == "SliderArea" or obj:IsA("TextBox") then isInteracting = true; break end end
            if not isInteracting then dragging = true; dragStart = input.Position; startPos = gui.Position
                input.Changed:Connect(function() if input.UserInputState == Enum.UserInputState.End then dragging = false end end)
            end
        end
    end)
    gui.InputChanged:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseMovement then dragInput = input end end)
    UserInputService.InputChanged:Connect(function(input)
        if input == dragInput and dragging then
            local delta = input.Position - dragStart
            gui.Position = UDim2.new(startPos.X.Scale, startPos.X.Offset + delta.X, startPos.Y.Scale, startPos.Y.Offset + delta.Y)
        end
    end)
end

-- ESP SYSTEM
local function ApplyESP(plr)
    local Box = Drawing.new("Square"); Box.Visible = false; Box.Thickness = 1.5
    local Line = Drawing.new("Line"); Line.Visible = false; Line.Thickness = 1.5
    local HealthBarOutline = Drawing.new("Square"); HealthBarOutline.Visible = false; HealthBarOutline.Filled = true; HealthBarOutline.Color = Color3.new(0,0,0)
    local HealthBar = Drawing.new("Square"); HealthBar.Visible = false; HealthBar.Filled = true

    RunService.RenderStepped:Connect(function()
        if plr.Character and plr.Character:FindFirstChild("HumanoidRootPart") and plr.Character:FindFirstChild("Head") and plr ~= LocalPlayer then
            local hum = plr.Character:FindFirstChild("Humanoid")
            local hrp = plr.Character.HumanoidRootPart
            local head = plr.Character.Head
            local hrpPos, onScreen = Camera:WorldToViewportPoint(hrp.Position)
            local headPos, headOnScreen = Camera:WorldToViewportPoint(head.Position)
            
            if onScreen and hum and hum.Health > 0 then
                local color = _G.Config.EspColors and plr.TeamColor.Color or Color3.new(1,1,1)
                local dist = (Camera.CFrame.Position - hrp.Position).Magnitude
                local sizeX = (2800 / dist) * 1.2
                local sizeY = (3800 / dist) * 1.2

                if _G.Config.EspBox then
                    Box.Visible = true; Box.Color = color; Box.Size = Vector2.new(sizeX, sizeY); Box.Position = Vector2.new(hrpPos.X - sizeX/2, hrpPos.Y - sizeY/2)
                else Box.Visible = false end

                if _G.Config.EspLines then
                    Line.Visible = true; Line.Color = color; Line.From = Vector2.new(Camera.ViewportSize.X/2, 0); Line.To = Vector2.new(headPos.X, headPos.Y)
                else Line.Visible = false end

                if _G.Config.EspHealth then
                    local hp = hum.Health / hum.MaxHealth
                    HealthBarOutline.Visible = true; HealthBarOutline.Size = Vector2.new(4, sizeY); HealthBarOutline.Position = Vector2.new(hrpPos.X - sizeX/2 - 6, hrpPos.Y - sizeY/2)
                    HealthBar.Visible = true; HealthBar.Size = Vector2.new(2, sizeY * hp); HealthBar.Position = Vector2.new(hrpPos.X - sizeX/2 - 5, (hrpPos.Y - sizeY/2) + (sizeY * (1 - hp)))
                    if hp > 0.7 then HealthBar.Color = Color3.new(0,1,0) elseif hp > 0.4 then HealthBar.Color = Color3.new(1,1,0) else HealthBar.Color = Color3.new(1,0,0) end
                else HealthBar.Visible = false; HealthBarOutline.Visible = false end
            else Box.Visible = false; Line.Visible = false; HealthBar.Visible = false; HealthBarOutline.Visible = false end
        else Box.Visible = false; Line.Visible = false; HealthBar.Visible = false; HealthBarOutline.Visible = false end
    end)
end
for _, p in pairs(Players:GetPlayers()) do ApplyESP(p) end
Players.PlayerAdded:Connect(ApplyESP)

-- UI PRINCIPAL
local function OpenMainUI()
    local MainGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui); local Main = Instance.new("Frame", MainGui); Main.Size = UDim2.new(0, 400, 0, 520); Main.Position = UDim2.new(0.5, -200, 0.5, -260); Main.BackgroundColor3 = Color3.fromRGB(12, 12, 12); Instance.new("UICorner", Main); MakeDraggable(Main)
    UserInputService.InputBegan:Connect(function(input) if input.KeyCode == Enum.KeyCode.Insert then Main.Visible = not Main.Visible end end)
    local TabsFrame = Instance.new("Frame", Main); TabsFrame.Size = UDim2.new(1, 0, 0, 50); TabsFrame.BackgroundColor3 = Color3.fromRGB(20, 20, 20); Instance.new("UICorner", TabsFrame)
    local Selector = Instance.new("Frame", TabsFrame); Selector.Size = UDim2.new(0.33, -10, 0, 3); Selector.Position = UDim2.new(0, 5, 1, -3); Selector.BackgroundColor3 = Color3.fromRGB(130, 0, 255)
    local Pages = {}
    local function CreatePage(name, order)
        local b = Instance.new("TextButton", TabsFrame); b.Size = UDim2.new(0.33, 0, 1, 0); b.Position = UDim2.new((order-1)*0.33, 0, 0, 0); b.BackgroundTransparency = 1; b.Text = name; b.TextColor3 = Color3.new(1,1,1); b.Font = "GothamBold"; b.TextSize = 18
        local p = Instance.new("ScrollingFrame", Main); p.Size = UDim2.new(1, -20, 1, -70); p.Position = UDim2.new(0, 10, 0, 65); p.BackgroundTransparency = 1; p.Visible = (order == 1); p.ScrollBarThickness = 0
        Pages[name] = p; local l = Instance.new("UIListLayout", p); l.Padding = UDim.new(0, 15); l.HorizontalAlignment = "Center"
        b.MouseButton1Click:Connect(function() for n, pg in pairs(Pages) do pg.Visible = (n == name) end TweenService:Create(Selector, TweenInfo.new(0.3), {Position = UDim2.new((order-1)*0.33, 5, 1, -3)}):Play() end)
    end
    CreatePage("AIM", 1); CreatePage("VISUAL", 2); CreatePage("MISC", 3)
    local function Toggle(pg, txt, key)
        local b = Instance.new("TextButton", Pages[pg]); b.Size = UDim2.new(0.9, 0, 0, 45); b.BackgroundColor3 = _G.Config[key] and Color3.fromRGB(130, 0, 255) or Color3.fromRGB(30, 30, 30); b.Text = txt; b.TextColor3 = Color3.new(1,1,1); b.Font = "GothamBold"; b.TextSize = 16; Instance.new("UICorner", b)
        b.MouseButton1Click:Connect(function() _G.Config[key] = not _G.Config[key]; b.BackgroundColor3 = _G.Config[key] and Color3.fromRGB(130, 0, 255) or Color3.fromRGB(30, 30, 30) end)
    end
    local function Slider(pg, txt, min, max, key)
        local f = Instance.new("Frame", Pages[pg]); f.Size = UDim2.new(0.9, 0, 0, 75); f.BackgroundTransparency = 1
        local l = Instance.new("TextLabel", f); l.Size = UDim2.new(1, 0, 0, 30); l.Text = txt..": ".._G.Config[key]; l.TextColor3 = Color3.new(1,1,1); l.Font = "GothamBold"; l.TextSize = 15; l.BackgroundTransparency = 1
        local bg = Instance.new("Frame", f); bg.Name = "SliderArea"; bg.Size = UDim2.new(1, 0, 0, 10); bg.Position = UDim2.new(0, 0, 0.7, 0); bg.BackgroundColor3 = Color3.fromRGB(40, 40, 40); Instance.new("UICorner", bg)
        local fill = Instance.new("Frame", bg); fill.Size = UDim2.new((_G.Config[key]-min)/(max-min), 0, 1, 0); fill.BackgroundColor3 = Color3.fromRGB(130, 0, 255); Instance.new("UICorner", fill)
        bg.InputBegan:Connect(function(input) if input.UserInputType == Enum.UserInputType.MouseButton1 then local m = RunService.RenderStepped:Connect(function() local pos = math.clamp((Mouse.X - bg.AbsolutePosition.X) / bg.AbsoluteSize.X, 0, 1); fill.Size = UDim2.new(pos, 0, 1, 0); _G.Config[key] = math.floor(min + (max-min)*pos); l.Text = txt..": ".._G.Config[key] end) UserInputService.InputEnded:Connect(function(e) if e.UserInputType == Enum.UserInputType.MouseButton1 then m:Disconnect() end end) end end)
    end
    Toggle("AIM", "AIMBOT (HOLD E)", "AimbotActive"); Toggle("AIM", "SHOW FOV", "ShowFOV"); Slider("AIM", "FOV RADIUS", 30, 800, "FOVSize")
    Toggle("VISUAL", "ESP BOX", "EspBox"); Toggle("VISUAL", "ESP LINES", "EspLines"); Toggle("VISUAL", "ESP HEALTH", "EspHealth"); Toggle("VISUAL", "TEAM COLORS", "EspColors")
    Toggle("MISC", "SPIN BOT", "SpinActive"); Slider("MISC", "SPIN SPEED", 0, 150, "SpinSpeed"); Toggle("MISC", "EXPAND HITBOX", "HitboxActive"); Slider("MISC", "HITBOX SIZE", 2, 100, "HitboxSize")
end

-- LOGIN (TOTALMENTE LIMPO)
local LoginGui = Instance.new("ScreenGui", LocalPlayer.PlayerGui); local LF = Instance.new("Frame", LoginGui); LF.Size = UDim2.new(0, 320, 0, 380); LF.Position = UDim2.new(0.5, -160, 0.5, -190); LF.BackgroundColor3 = Color3.fromRGB(15, 15, 15); Instance.new("UICorner", LF); MakeDraggable(LF)
local U = Instance.new("TextBox", LF); U.PlaceholderText = "USUÁRIO"; U.Text = ""; U.Size = UDim2.new(0.8,0,0,50); U.Position = UDim2.new(0.1,0,0.25,0); U.BackgroundColor3 = Color3.fromRGB(25,25,25); U.TextColor3 = Color3.new(1,1,1); U.Font = "Gotham"; U.TextSize = 16; Instance.new("UICorner", U)
local P = Instance.new("TextBox", LF); P.PlaceholderText = "SENHA"; P.Text = ""; P.Size = UDim2.new(0.8,0,0,50); P.Position = UDim2.new(0.1,0,0.45,0); P.BackgroundColor3 = Color3.fromRGB(25,25,25); P.TextColor3 = Color3.new(1,1,1); P.Font = "Gotham"; P.TextSize = 16; Instance.new("UICorner", P)
local B = Instance.new("TextButton", LF); B.Text = "LOGAR"; B.Size = UDim2.new(0.8,0,0,55); B.Position = UDim2.new(0.1,0,0.72,0); B.BackgroundColor3 = Color3.fromRGB(130,0,255); B.TextColor3 = Color3.new(1,1,1); B.Font = "GothamBold"; B.TextSize = 18; Instance.new("UICorner", B)

B.MouseButton1Click:Connect(function() 
    if (LoginsPremium[U.Text] == P.Text or LoginsFree[U.Text] == P.Text) and U.Text ~= "" then 
        _G.Config.IsFreeVersion = (LoginsFree[U.Text] == P.Text); LoginGui:Destroy(); OpenMainUI()
    else B.Text = "DADOS INVÁLIDOS"; task.wait(0.5); B.Text = "LOGAR" end 
end)

-- SPIN BOT (ANTI-SHIFTLOCK)
RunService.Stepped:Connect(function()
    if _G.Config.SpinActive and LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("HumanoidRootPart") then
        local hum = LocalPlayer.Character:FindFirstChild("Humanoid")
        if hum then hum.AutoRotate = false end
        SpinAngle = SpinAngle + math.rad(_G.Config.SpinSpeed)
        LocalPlayer.Character.HumanoidRootPart.CFrame = CFrame.new(LocalPlayer.Character.HumanoidRootPart.Position) * CFrame.Angles(0, SpinAngle, 0)
    elseif LocalPlayer.Character and LocalPlayer.Character:FindFirstChild("Humanoid") then
        LocalPlayer.Character.Humanoid.AutoRotate = true
    end
end)

-- AIMBOT + FOV
FOVDrawing.Thickness = 1.5; FOVDrawing.Color = Color3.fromRGB(130,0,255); FOVDrawing.Filled = false
RunService.RenderStepped:Connect(function()
    FOVDrawing.Visible = _G.Config.ShowFOV; FOVDrawing.Radius = _G.Config.FOVSize; FOVDrawing.Position = Vector2.new(Mouse.X, Mouse.Y + 36)
    if _G.Config.AimbotActive and UserInputService:IsKeyDown(Enum.KeyCode[_G.Config.AimbotKey]) then
        if LockedTarget and LockedTarget.Parent and LockedTarget.Parent:FindFirstChild("Humanoid") and LockedTarget.Parent.Humanoid.Health > 0 then
            local pos, vis = Camera:WorldToViewportPoint(LockedTarget.Position)
            if vis then Camera.CFrame = CFrame.new(Camera.CFrame.Position, LockedTarget.Position) else LockedTarget = nil end
        else
            local t, d = nil, _G.Config.FOVSize
            for _, p in pairs(Players:GetPlayers()) do
                if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("Head") and p.Character.Humanoid.Health > 0 then
                    local pos, vis = Camera:WorldToViewportPoint(p.Character.Head.Position)
                    if vis then
                        local mDist = (Vector2.new(pos.X, pos.Y) - Vector2.new(Mouse.X, Mouse.Y)).Magnitude
                        if mDist < d then t = p.Character.Head; d = mDist end
                    end
                end
            end
            LockedTarget = t
        end
    else LockedTarget = nil end
    for _, p in pairs(Players:GetPlayers()) do
        if p ~= LocalPlayer and p.Character and p.Character:FindFirstChild("HumanoidRootPart") then
            p.Character.HumanoidRootPart.Size = _G.Config.HitboxActive and Vector3.new(_G.Config.HitboxSize, _G.Config.HitboxSize, _G.Config.HitboxSize) or Vector3.new(2,2,1)
            p.Character.HumanoidRootPart.Transparency = _G.Config.HitboxActive and 0.7 or 1
        end
    end
end)
